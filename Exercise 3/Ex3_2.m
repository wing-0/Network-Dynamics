clearvars
close all

% Weight matrix for the intermarriages.
W = [0 1 1 1 0 0 0 0 0 0 0 0 0 0 0;...
    1 0 1 0 0 0 1 0 0 0 0 0 0 0 0;...
    1 1 0 0 1 0 1 0 0 0 0 0 0 0 0;...
    1 0 0 0 0 0 0 0 1 0 0 0 0 0 0;...
    0 0 1 0 0 0 0 0 1 0 0 0 0 0 0;...
    0 0 0 0 0 0 0 0 1 0 0 0 0 0 0;...
    0 1 1 0 0 0 0 0 0 1 0 0 0 0 0;...
    0 0 0 0 0 0 0 0 1 1 0 0 0 0 0;...
    0 0 0 1 1 1 0 1 0 0 1 1 0 0 0;...
    0 0 0 0 0 0 1 1 0 0 1 0 1 0 0;...
    0 0 0 0 0 0 0 0 1 1 0 0 0 1 0;...
    0 0 0 0 0 0 0 0 1 0 0 0 0 0 1;...
    0 0 0 0 0 0 0 0 0 1 0 0 0 0 0;...
    0 0 0 0 0 0 0 0 0 0 1 0 0 0 0;...
    0 0 0 0 0 0 0 0 0 0 0 1 0 0 0];

% Calculating the invariant probability distribution P = D\W = diag(w)\W.
% w is the out-degree of each node, so the sum of each row
P = diag(sum(W,2))\W;